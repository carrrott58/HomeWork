from itertools import permutations

t="1457 246 3567 412 5136 6235 713"
g="ACB BDA CEGA DFGB EFC FEGD GFDC"

g={x[0]: set(x[1:]) for x in g.split()}

print(*"1234567")

for p in permutations("ABCDEFG"):
  new_g=t
  for x,y in zip("1234567", p):
    new_g=new_g.replace(x,y)
  new_g={x[0]: set(x[1:]) for x in new_g.split()}
  if new_g==g:
    print (*p)

#38
